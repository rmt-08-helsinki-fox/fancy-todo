{"version":3,"sources":["app.js"],"names":["user_name","email","baseUrl","defaultLogout","$","show","hide","empty","homepage","text","getTodos","click","e","preventDefault","val","Auth","localStorage","getItem","ajax","url","method","headers","token","then","result","name","catch","err","console","log","login","password","data","done","setItem","fail","xhr","responseJSON","message","logout","removeItem","signOut","forEach","todo","append","title","due_date","description","status","id","on","completeTodo","target","dataset","value","deleteTodo","split","onSignIn","googleUser","id_token","getAuthResponse","gapi","auth2","getAuthInstance","document","ready","newAddTodo","updateTodo","el","country","state","website_url","googleSignin","provider","firebase","auth","GoogleAuthProvider","signInWithPopup","credential","accessToken","user","idToken","error","code","googleSignout"],"mappings":"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","file":"app.87c13bbb.js","sourceRoot":"..","sourcesContent":["let baseUrl = 'https://hacktiv8-fancy-todo.herokuapp.com'\r\n// let baseUrl = 'http://localhost:3000'\r\n\r\nlet user_name\r\nlet email\r\n\r\n\r\n\r\n$(document).ready(function(){\r\n    console.log('ready')\r\n    defaultLogout()\r\n\r\n    if(localStorage.getItem('token')){\r\n        Auth()\r\n    }\r\n\r\n});\r\n\r\nfunction defaultLogout(){\r\n    $(\"#loginForm\").show()\r\n    $(\"#registerForm\").hide()\r\n    $(\"#profile\").hide()\r\n    $(\"#todoSegment\").hide()\r\n    $(\"#brewery\").hide()\r\n    $(\"#todos\").empty()\r\n\r\n    $(\"#loginError\").hide()\r\n    $(\"#registerError\").hide()\r\n    $(\"#addTodoForm\").hide()\r\n    $(\"#addTodoError\").hide()\r\n    $(\"#editTodoForm\").hide()\r\n    $(\"#editTodoError\").hide()\r\n}\r\n\r\nfunction homepage(){\r\n    $(\"#loginForm\").hide()\r\n    $(\"#registerForm\").hide()\r\n    $(\"#profileMessage\").text(`Welcome, ${user_name}`)\r\n    $(\"#profile\").show()\r\n    $(\"#toHome\").hide()\r\n    $(\"#toBrewery\").show()\r\n    getTodos()\r\n    $(\"#addTodoForm\").hide()\r\n    $(\"#addTodoError\").hide()\r\n    $(\"#editTodoForm\").hide()\r\n    $(\"#editTodoError\").hide()\r\n    $(\"#todoSegment\").show()\r\n    $(\"#brewery\").hide()\r\n\r\n    $(\"#cancelEditTodo\").click((e)=>{\r\n        e.preventDefault()\r\n        homepage()\r\n    })\r\n    $(\"#cancelAddTodo\").click((e)=>{\r\n        e.preventDefault()\r\n        homepage()\r\n    })\r\n\r\n\r\n\r\n    $(\"#addTodoTitle\").val('')\r\n    $(\"#addTodoDescription\").val('')\r\n    $(\"#addTodoDuedate\").val('')\r\n    \r\n}\r\n\r\nfunction Auth(){\r\n    let token = localStorage.getItem('token')\r\n    $.ajax({\r\n        url: baseUrl+'/auth',\r\n        method: \"GET\",\r\n        headers: {\r\n            token: localStorage.getItem('token')\r\n        }\r\n    })\r\n    .then((result)=>{\r\n        // console.log('auth berhasil')\r\n        // console.log(result)\r\n        user_name = result.name\r\n        email = result.email\r\n        // redirect to homepage\r\n        homepage()\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\n$(\"#toRegister\").click((e)=>{\r\n    e.preventDefault()\r\n    $(\"#loginForm\").hide()\r\n    $(\"#registerForm\").show()\r\n})\r\n\r\n$(\"#toLogin\").click((e)=>{\r\n    e.preventDefault()\r\n    $(\"#loginForm\").show()\r\n    $(\"#registerForm\").hide()\r\n})\r\n\r\n$(\"#login\").click((e)=>{\r\n    e.preventDefault()\r\n    login($(\"#loginEmail\").val(), $(\"#loginPassword\").val())\r\n})\r\n\r\n$(\"#register\").click(e=>{\r\n    e.preventDefault()\r\n    $.ajax({\r\n        url: baseUrl+'/register',\r\n        method: 'POST',\r\n        data: {\r\n            name: $(\"#registerName\").val(),\r\n            email: $(\"#registerEmail\").val(),\r\n            password: $(\"#registerPassword\").val()\r\n        }\r\n    })\r\n    .done((result)=>{\r\n        $(\"#loginForm\").show()\r\n        $(\"#registerForm\").hide()\r\n\r\n        $(\"#registerName\").val('')\r\n        $(\"#registerEmail\").val('')\r\n        $(\"#registerPassword\").val('')\r\n    })\r\n    .fail((xhr, err)=>{\r\n        // console.log(xhr.responseJSON.message)\r\n        $(\"#registerErrorMessage\").text(xhr.responseJSON?xhr.responseJSON.message:'No Connection')\r\n        $(\"#registerError\").show()\r\n\r\n    })\r\n})\r\n\r\n$(\"#logout\").click((e)=>{\r\n    e.preventDefault()\r\n    logout()\r\n})\r\n\r\nfunction login(email, password){\r\n    console.log('loging in')\r\n    $.ajax({\r\n        url: baseUrl+'/login',\r\n        method: \"POST\",\r\n        data: {\r\n            email,\r\n            password\r\n        }\r\n    })\r\n    .done((result)=>{\r\n        // console.log(result)\r\n        localStorage.setItem('token', result.token)\r\n        user_name = result.name\r\n        homepage()\r\n        // Auth()\r\n    })\r\n    .fail((xhr, err)=>{\r\n        $(\"#loginErrorMessage\").text(xhr.responseJSON?xhr.responseJSON.message:'No Connection')\r\n        $(\"#loginError\").show()\r\n    })\r\n}\r\n\r\nfunction logout(){\r\n    localStorage.removeItem('token')\r\n    user_name = ''\r\n    email = ''\r\n\r\n    $(\"#loginEmail\").val('')\r\n    $(\"#loginPassword\").val('')\r\n\r\n    signOut()\r\n    defaultLogout()\r\n}\r\n\r\nfunction getTodos(){\r\n    // e.preventDefault()\r\n    $.ajax({\r\n        url: baseUrl+\"/todos\",\r\n        method: 'GET',\r\n        headers: {\r\n            token: localStorage.getItem(\"token\")\r\n        }\r\n    })\r\n    .done((result)=>{\r\n        $(\"#todoSegment\").show()\r\n        $(\"#todos\").empty()\r\n        result.forEach(todo => {\r\n            $(\"#todos\").append(`\r\n                <div class=\"card\">\r\n                    <div class=\"content\">\r\n                    <img class=\"right floated mini ui image\" src=\"https://semantic-ui.com/images/avatar/large/elliot.jpg\">\r\n                    <div class=\"header\">\r\n                        ${todo.title}\r\n                    </div>\r\n                    <div class=\"meta\">\r\n                        ${todo.due_date}\r\n                    </div>\r\n                    <div class=\"description\" style=\"margin-top:20px;\">\r\n                        ${todo.description}\r\n                    </div>\r\n                    <div class=\"ui label\" style=\"margin-top:10px;\">\r\n                        <b>${todo.status?'Completed':'On Progress'}</b>\r\n                    </div>\r\n                    </div>\r\n                    <div class=\"extra content\">\r\n                    <div class=\"ui three buttons\">\r\n                        <div class=\"ui basic green button completeTodo\" data-value=\"${todo.id}\">Complete</div>\r\n                        <div class=\"ui basic grey button editTodo\" data-value=\"${todo.id}\">Edit</div>\r\n                        <div class=\"ui basic red button deleteTodo\" data-value=\"${todo.id}\">Delete</div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            `)\r\n        })\r\n        $(\".completeTodo\").on('click',(e) => {\r\n            // console.log($(this).data('value'))\r\n            // console.log(e.target.dataset.value)\r\n            let id = e.target.dataset.value\r\n            completeTodo(id)\r\n            \r\n        })\r\n        $(\".deleteTodo\").on('click',(e) => {\r\n            let id = e.target.dataset.value\r\n            deleteTodo(id)\r\n        })\r\n        $(\".editTodo\").on('click',(e) => {\r\n            let id = e.target.dataset.value\r\n            $(\"#editTodo\").data('value', id)\r\n\r\n            $.ajax({\r\n                url: baseUrl+`/todos/${id}`,\r\n                method: 'GET',\r\n                headers: {\r\n                    token: localStorage.getItem('token')\r\n                }\r\n            })\r\n            .done((result)=>{\r\n                console.log(result)\r\n                let {title, description, due_date} = result\r\n                $(\"#editTodoTitle\").val(title)\r\n                $(\"#editTodoDescription\").val(description)\r\n                $(\"#editTodoDuedate\").val(due_date.split('T')[0])\r\n            })\r\n            .fail((xhr, err)=>{\r\n                $(\"#editTodoErrorMessage\").text(xhr.responseJSON?xhr.responseJSON.message:'No Connection')\r\n                $(\"#editTodoError\").show()\r\n            })\r\n\r\n            $(\"#editTodoForm\").show()\r\n            $(\"#todoSegment\").hide()\r\n        })\r\n    })\r\n    .fail((xhr,err)=>{\r\n        console.log(err)\r\n    })\r\n\r\n}\r\n\r\n\r\n$(\"#toAddTodo\").click((e)=>{\r\n    e.preventDefault()\r\n    $(\"#addTodoForm\").show()\r\n    $(\"#todoSegment\").hide()\r\n})\r\n\r\n$(\"#addTodo\").click((e)=>{\r\n    e.preventDefault()\r\n    let newAddTodo = {\r\n        title: $(\"#addTodoTitle\").val(),\r\n        description : $(\"#addTodoDescription\").val(),\r\n        due_date: $(\"#addTodoDuedate\").val()\r\n    }\r\n    console.log(newAddTodo)\r\n    $.ajax({\r\n        url: baseUrl+'/todos',\r\n        method: 'POST',\r\n        headers: {\r\n            token: localStorage.getItem('token')\r\n        },\r\n        data: newAddTodo\r\n    })\r\n    .done((result)=>{\r\n        homepage()\r\n    })\r\n    .fail((xhr, err)=>{\r\n        $(\"#addTodoErrorMessage\").text(xhr.responseJSON?xhr.responseJSON.message:'No Connection')\r\n        $(\"#addTodoError\").show()\r\n    })\r\n})\r\n\r\nfunction completeTodo(id){\r\n    $.ajax({\r\n        url: baseUrl+`/todos/${id}`,\r\n        method: 'PATCH',\r\n        headers: {\r\n            token: localStorage.getItem('token')\r\n        },\r\n        data: {\r\n            status: true\r\n        }\r\n    })\r\n    .done((result)=>{\r\n        homepage()\r\n    })\r\n    .fail((xhr, err)=>{\r\n        console.log(xhr.responseJSON.message)\r\n    })\r\n}\r\n\r\nfunction deleteTodo(id){\r\n    $.ajax({\r\n        url: baseUrl+`/todos/${id}`,\r\n        method: 'DELETE',\r\n        headers: {\r\n            token: localStorage.getItem('token')\r\n        },\r\n        data: {\r\n            status: true\r\n        }\r\n    })\r\n    .done((result)=>{\r\n        homepage()\r\n    })\r\n    .fail((xhr, err)=>{\r\n        console.log(xhr.responseJSON.message)\r\n    })\r\n}\r\n\r\n\r\n$(\"#editTodo\").click((e)=>{\r\n    e.preventDefault()\r\n    let id = $(\"#editTodo\").data('value')\r\n\r\n    let updateTodo = {\r\n        title: $(\"#editTodoTitle\").val(),\r\n        description : $(\"#editTodoDescription\").val(),\r\n        due_date: $(\"#editTodoDuedate\").val()\r\n    }\r\n    \r\n    $.ajax({\r\n        url: baseUrl+`/todos/${id}`,\r\n        method: 'PUT',\r\n        headers: {\r\n            token: localStorage.getItem('token')\r\n        },\r\n        data: updateTodo\r\n    })\r\n    .done((result)=>{\r\n        homepage()\r\n    })\r\n    .fail((xhr, err)=>{\r\n        console.log(xhr.responseJSON.message)\r\n    })\r\n})\r\n\r\n\r\n\r\n\r\n\r\n// BREWERY\r\n\r\n$(\"#toHome\").click(()=>{\r\n    homepage()\r\n})\r\n\r\n$(\"#toBrewery\").click(()=>{\r\n    // homepage()\r\n    $(\"#toHome\").show()\r\n    $(\"#toBrewery\").hide()\r\n    $(\"#todoSegment\").hide()\r\n    $(\"#brewery\").show()\r\n\r\n    $(\"#breweryList\").empty()\r\n\r\n    $.ajax({\r\n        url: baseUrl+'/brewery/list',\r\n        method: 'GET'\r\n    })\r\n    .done((result)=>{\r\n        console.log(result)\r\n        result.forEach(el => {\r\n            $(\"#breweryList\").append(`\r\n            <div class=\"ui card\">\r\n                <div class=\"content\">\r\n                    <div class=\"header\">${el.name}</div>\r\n                </div>\r\n                <div class=\"content\">\r\n                    <h4 class=\"ui sub header\">Activity</h4>\r\n                    <div class=\"ui small feed\">\r\n                    <div class=\"event\">\r\n                        <div class=\"content\">\r\n                        <div class=\"summary\">\r\n                            <a>Country</a> ${el.country}\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"event\">\r\n                        <div class=\"content\">\r\n                        <div class=\"summary\">\r\n                            <a>State</a> ${el.state}\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"event\">\r\n                        <div class=\"content\">\r\n                        <div class=\"summary\">\r\n                            <a>Website</a> ${el.website_url}\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"extra content\">\r\n                    <button class=\"ui button primary disabled\">Add To Favorites</button>\r\n                    <div class=\"right floated author\">\r\n                        <img class=\"ui avatar image\" src=\"https://semantic-ui.com/images/avatar/small/matt.jpg\">\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            `)\r\n        })\r\n    })\r\n    .fail((err)=>{\r\n        console.log(err)\r\n    })\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// GOOGLE OAUTH\r\n\r\nfunction onSignIn(googleUser) {\r\n    console.log('google oauth')\r\n\r\n    // var profile = googleUser.getBasicProfile();\r\n    // console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.\r\n    // console.log('Name: ' + profile.getName());\r\n    // console.log('Image URL: ' + profile.getImageUrl());\r\n    // console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.\r\n\r\n    var id_token = googleUser.getAuthResponse().id_token;\r\n    console.log(id_token)\r\n\r\n    $.ajax({\r\n        url: baseUrl+'/googlelogin',\r\n        method: 'GET',\r\n        headers: {\r\n            token: id_token\r\n        }\r\n    })\r\n    .done((result)=>{\r\n        // auto login\r\n        console.log('login google berhasil')\r\n        // console.log(result.token)\r\n        localStorage.setItem('token',result.token)\r\n        user_name = result.name\r\n        homepage()\r\n    })\r\n    .fail((err)=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nfunction signOut() {\r\n    console.log('google sign out')\r\n    var auth2 = gapi.auth2.getAuthInstance();\r\n    auth2.signOut().then(function () {\r\n      console.log('User signed out.');\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n//   Firebase Google Signin\r\n\r\n$(\"#googleSignIn\").click((e)=>{\r\n    e.preventDefault()\r\n    googleSignin()\r\n})\r\n\r\nvar provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nfunction googleSignin() {\r\n   firebase.auth()\r\n   \r\n   .signInWithPopup(provider).then(function(result) {\r\n      var token = result.credential.accessToken;\r\n      var user = result.user;\r\n      var id_token = result.credential.idToken\r\n\t\t\r\n      console.log(result)\r\n      console.log(token)\r\n      console.log(user)\r\n      console.log(id_token)\r\n\r\n      $.ajax({\r\n        url: baseUrl+'/googlelogin',\r\n        method: 'GET',\r\n        headers: {\r\n            token: id_token\r\n        }\r\n      })\r\n      .done((result)=>{\r\n        // auto login\r\n        console.log('login google berhasil')\r\n        // console.log(result.token)\r\n        localStorage.setItem('token',result.token)\r\n        user_name = result.name\r\n        homepage()\r\n      })\r\n      .fail((err)=>{\r\n        console.log(err)\r\n      })\r\n   }).catch(function(error) {\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n\t\t\r\n      console.log(error.code)\r\n      console.log(error.message)\r\n   });\r\n}\r\n\r\nfunction googleSignout() {\r\n   firebase.auth().signOut()\r\n\t\r\n   .then(function() {\r\n      console.log('Signout Succesfull')\r\n   }, function(error) {\r\n      console.log('Signout Failed')  \r\n   });\r\n}"]}